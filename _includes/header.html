<div>
    <div id="header" style="width: 100%; display: flex; flex-direction: row; margin-top: -90px;">
        <div style="width: 100%; display: flex; flex-direction:column;">
            <h1 style="width: 100%; display: flex; justify-content:space-between; align-items: center;">
                <a id="title" href="/">{{ site.title }}</a>
                <a id="search" href="/singularity/src/search">ðŸ”Ž</a>
            </h1>
        </div>
    </div>
</div>

<script>let urlprefix = "";</script>

{% if jekyll.environment == "production" %}
<script>
    urlprefix = "singularity"
</script>
{% endif %}

<script src="{{ site.baseurl }}{% link assets/js/search-worker.js %}"></script>

<script>
    const worker = new Worker("{{ site.baseurl }}{% link assets/js/search-worker.js %}");

    const redundant_title = document.querySelector('h1');
    if (redundant_title) {
        redundant_title.style.opacity = 0;
    }

    const title = document.getElementById("title");
    if (title) {
        title.href = urlprefix == "" ? "/" : "/" + urlprefix;
    }

    const search = document.getElementById("search");

    if (search) {
        search.href = urlprefix == "" ? "/src/search" : "/" + urlprefix + "/src/search";
    }
</script>

<script defer src="{{ site.baseurl }}{% link assets/js/sync-search.js %}"></script>