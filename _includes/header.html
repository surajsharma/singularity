<div>
    <div id="header" style="width: 100%; display: flex; flex-direction: row; margin-top: -90px;">
        <div style="width: 100%; display: flex; flex-direction:column;">
            <h1 style="width: 100%; display: flex; justify-content:space-between; align-items: center;">
                <a id="title" href="/">{{ site.title }}</a>
                <a id="search-icon" class="exclude-invert" href="/singularity/src/search">ðŸ”Ž</a>
            </h1>
        </div>
    </div>
</div>

{% if jekyll.environment == "production" %}
<script>
    const stub = "singularity"
</script>
<link rel="shortcut icon" type="image/png" href="singularity/favicon.ico?">
{% endif %}

{% if jekyll.environment != "production"  %}
<link rel="shortcut icon" type="image/png" href="favicon.ico?">
{% endif %}

<script src="{{ site.baseurl }}{% link assets/js/search-worker.js %}?v={{ site.time | date:'%s' }}"></script>

<script>
    const production = !(typeof stub === "undefined");
    const search_url = !production ? "/src/search" : "/" + stub + "/src/search";
    const title_url = !production ? "/" : "/" + stub;

    const search_worker = new Worker("{{ site.baseurl }}{% link assets/js/search-worker.js %}?v={{ site.time | date:'%s' }}");

    const redundant_title = document.querySelector('h1').style.opacity = 0;
    const title = document.getElementById("title").href = title_url;
    const search = document.getElementById("search-icon").href = search_url;
</script>

<script defer src="{{ site.baseurl }}{% link assets/js/sync-search.js %}?v={{ site.time | date:'%s' }}"></script>

